============================= test session starts ==============================
platform linux -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- /usr/sbin/python
cachedir: .pytest_cache
rootdir: /home/hulusi/Workspace/NLNMT/bpe_tokenizer
plugins: anyio-4.10.0
collecting ... collected 107 items

test_final_integration.py::test_complete_integration PASSED              [  0%]
tests/test_algorithms.py::TestIncrementalUpdate::test_basic_incremental_update PASSED [  1%]
tests/test_algorithms.py::TestIncrementalUpdate::test_example_2_from_paper PASSED [  2%]
tests/test_algorithms.py::TestIncrementalUpdate::test_empty_tokenizations PASSED [  3%]
tests/test_algorithms.py::TestIncrementalUpdate::test_no_merge_at_boundary PASSED [  4%]
tests/test_algorithms.py::TestIncrementalUpdate::test_merge_at_boundary PASSED [  5%]
tests/test_algorithms.py::TestIncrementalSequence::test_sequence_tokenization PASSED [  6%]
tests/test_algorithms.py::TestIncrementalSequence::test_empty_sequence PASSED [  7%]
tests/test_algorithms.py::TestIncrementalSequence::test_single_string PASSED [  8%]
tests/test_algorithms.py::TestLookaheadConstant::test_lookahead_calculation PASSED [  9%]
tests/test_algorithms.py::TestLookaheadConstant::test_sufficient_lookahead PASSED [ 10%]
tests/test_algorithms.py::TestLookaheadConstant::test_empty_dictionary PASSED [ 11%]
tests/test_algorithms.py::TestLookaheadConstant::test_larger_dictionary PASSED [ 12%]
tests/test_algorithms.py::TestChainLength::test_chain_length_no_dependencies PASSED [ 13%]
tests/test_algorithms.py::TestChainLength::test_chain_length_simple_chain PASSED [ 14%]
tests/test_algorithms.py::TestChainLength::test_chain_length_longer_chain PASSED [ 14%]
tests/test_algorithms.py::TestChainLength::test_chain_length_better_than_theoretical PASSED [ 15%]
tests/test_algorithms.py::TestStreamingTokenization::test_streaming_basic PASSED [ 16%]
tests/test_algorithms.py::TestStreamingTokenization::test_streaming_with_auto_lookahead PASSED [ 17%]
tests/test_algorithms.py::TestStreamingTokenization::test_streaming_empty_text PASSED [ 18%]
tests/test_algorithms.py::TestStreamingTokenization::test_streaming_fallback_for_large_lookahead PASSED [ 19%]
tests/test_algorithms.py::TestStreamingGenerator::test_streaming_generator_basic PASSED [ 20%]
tests/test_algorithms.py::TestStreamingGenerator::test_streaming_generator_character_stream PASSED [ 21%]
tests/test_algorithms.py::TestLookaheadComparison::test_lookahead_comparison PASSED [ 22%]
tests/test_algorithms.py::TestLookaheadComparison::test_independent_rules_comparison PASSED [ 23%]
tests/test_algorithms.py::TestAlgorithmCorrectness::test_incremental_vs_direct PASSED [ 24%]
tests/test_algorithms.py::TestAlgorithmCorrectness::test_streaming_correctness PASSED [ 25%]
tests/test_algorithms.py::test_paper_example_2_incremental PASSED        [ 26%]
tests/test_comprehensive_validation.py::test_synthetic_single_path PASSED [ 27%]
tests/test_comprehensive_validation.py::test_synthetic_multiple_paths PASSED [ 28%]
tests/test_comprehensive_validation.py::test_synthetic_all_terminal PASSED [ 28%]
tests/test_comprehensive_validation.py::test_cross_validation_paper_examples PASSED [ 29%]
tests/test_comprehensive_validation.py::test_cross_validation_systematic PASSED [ 30%]
tests/test_comprehensive_validation.py::test_property_based_random PASSED [ 31%]
tests/test_comprehensive_validation.py::test_real_dictionary_gpt2_sample PASSED [ 32%]
tests/test_comprehensive_validation.py::test_exhaustiveness PASSED       [ 33%]
tests/test_comprehensive_validation.py::test_performance_benchmark PASSED [ 34%]
tests/test_core.py::TestTokenization::test_valid_tokenization PASSED     [ 35%]
tests/test_core.py::TestTokenization::test_invalid_tokenization PASSED   [ 36%]
tests/test_core.py::TestTokenization::test_tokenization_methods PASSED   [ 37%]
tests/test_core.py::TestBytePairDictionary::test_valid_dictionary PASSED [ 38%]
tests/test_core.py::TestBytePairDictionary::test_dictionary_validation PASSED [ 39%]
tests/test_core.py::TestBytePairDictionary::test_dictionary_methods PASSED [ 40%]
tests/test_core.py::TestTEmpty::test_valid_strings PASSED                [ 41%]
tests/test_core.py::TestTEmpty::test_empty_string PASSED                 [ 42%]
tests/test_core.py::TestTEmpty::test_invalid_input PASSED                [ 42%]
tests/test_core.py::TestTEmpty::test_character_level_property PASSED     [ 43%]
tests/test_core.py::TestIntegration::test_basic_workflow PASSED          [ 44%]
tests/test_equivalence.py::TestDictionaryEquivalence::test_identical_dictionaries PASSED [ 45%]
tests/test_equivalence.py::TestDictionaryEquivalence::test_different_dictionaries PASSED [ 46%]
tests/test_equivalence.py::TestDictionaryEquivalence::test_swapped_independent_rules PASSED [ 47%]
tests/test_equivalence.py::TestDictionaryEquivalence::test_swapped_dependent_rules PASSED [ 48%]
tests/test_equivalence.py::TestDictionaryEquivalence::test_empty_dictionaries PASSED [ 49%]
tests/test_equivalence.py::TestRuleSwapping::test_swappable_rules PASSED [ 50%]
tests/test_equivalence.py::TestRuleSwapping::test_dependent_rules_not_swappable PASSED [ 51%]
tests/test_equivalence.py::TestRuleSwapping::test_same_rule_swappable PASSED [ 52%]
tests/test_equivalence.py::TestRuleSwapping::test_overlapping_rules PASSED [ 53%]
tests/test_equivalence.py::TestRuleSwapping::test_chain_dependency PASSED [ 54%]
tests/test_equivalence.py::TestEquivalentOrderings::test_no_swappable_rules PASSED [ 55%]
tests/test_equivalence.py::TestEquivalentOrderings::test_all_independent_rules PASSED [ 56%]
tests/test_equivalence.py::TestEquivalentOrderings::test_single_rule_dictionary PASSED [ 57%]
tests/test_equivalence.py::TestEquivalentOrderings::test_limited_generation PASSED [ 57%]
tests/test_equivalence.py::TestUtilityFunctions::test_get_token_statistics PASSED [ 58%]
tests/test_equivalence.py::TestUtilityFunctions::test_get_dictionary_statistics PASSED [ 59%]
tests/test_equivalence.py::TestUtilityFunctions::test_tokenization_to_string PASSED [ 60%]
tests/test_equivalence.py::TestUtilityFunctions::test_dictionary_to_table PASSED [ 61%]
tests/test_equivalence.py::TestUtilityFunctions::test_compare_tokenizations PASSED [ 62%]
tests/test_equivalence.py::TestEquivalenceHeuristic::test_proper_vs_improper_dictionary PASSED [ 63%]
tests/test_equivalence.py::TestEquivalenceHeuristic::test_custom_test_strings PASSED [ 64%]
tests/test_equivalence.py::test_integration_equivalence_and_utils PASSED [ 65%]
tests/test_example1.py::test_tokenization_functionality PASSED           [ 66%]
tests/test_example1.py::test_dictionary_functionality PASSED             [ 67%]
tests/test_example1.py::test_t_empty_functionality PASSED                [ 68%]
tests/test_example1.py::test_example_1_from_paper PASSED                 [ 69%]
tests/test_example1.py::test_edge_cases PASSED                           [ 70%]
tests/test_huggingface.py::test_apply_rule_exhaustively_functionality PASSED [ 71%]
tests/test_huggingface.py::test_tokenize_huggingface_functionality PASSED [ 71%]
tests/test_huggingface.py::test_compare_tokenizers_functionality PASSED  [ 72%]
tests/test_huggingface.py::test_example_3_difference PASSED              [ 73%]
tests/test_huggingface.py::test_proper_dictionary_equivalence PASSED     [ 74%]
tests/test_huggingface.py::test_exhaustive_application PASSED            [ 75%]
tests/test_huggingface.py::test_example_1_huggingface PASSED             [ 76%]
tests/test_huggingface.py::test_multiple_passes PASSED                   [ 77%]
tests/test_huggingface.py::test_algorithmic_differences PASSED           [ 78%]
tests/test_sentencepiece.py::test_find_highest_priority_rule_functionality PASSED [ 79%]
tests/test_sentencepiece.py::test_tokenize_sentencepiece_functionality PASSED [ 80%]
tests/test_sentencepiece.py::test_validate_sentencepiece_functionality PASSED [ 81%]
tests/test_sentencepiece.py::test_example_1_from_paper PASSED            [ 82%]
tests/test_sentencepiece.py::test_leftmost_selection PASSED              [ 83%]
tests/test_sentencepiece.py::test_priority_ordering PASSED               [ 84%]
tests/test_sentencepiece.py::test_unused_rule PASSED                     [ 85%]
tests/test_sentencepiece.py::test_deterministic_property PASSED          [ 85%]
tests/test_tokenizers.py::test_apply_rule_functionality PASSED           [ 86%]
tests/test_tokenizers.py::test_find_applicable_rules_functionality PASSED [ 87%]
tests/test_tokenizers.py::test_is_terminal_functionality PASSED          [ 88%]
tests/test_tokenizers.py::test_tokenize_base_functionality PASSED        [ 89%]
tests/test_tokenizers.py::test_integration_with_example_from_tasks PASSED [ 90%]
tests/test_validation.py::test_is_proper_dictionary_functionality PASSED [ 91%]
tests/test_validation.py::test_get_rule_dependencies_functionality PASSED [ 92%]
tests/test_validation.py::test_validate_training_construction_functionality PASSED [ 93%]
tests/test_validation.py::test_example_1_proper PASSED                   [ 94%]
tests/test_validation.py::test_proper_ordering PASSED                    [ 95%]
tests/test_validation.py::test_example_3_improper PASSED                 [ 96%]
tests/test_validation.py::test_single_char_rules PASSED                  [ 97%]
tests/test_validation.py::test_chain_dependencies PASSED                 [ 98%]
tests/test_validation.py::test_invalid_construction PASSED               [ 99%]
tests/test_validation.py::test_comprehensive_analysis PASSED             [100%]

============================= 107 passed in 0.17s ==============================
